@page
@model ChangePasswordModel

@using Microsoft.AspNetCore.Identity
@using BugTracker.Models
@using BugTracker.Core

@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager

@{ ViewData["Title"] = "Change password";
    ViewData["ActivePage"] = ManageNavPages.ChangePassword; }

<section class="profile-container">
    <card class="profile-card">
        <header>
            <h1 style="margin-top: 12px;">Change Password</h1>
        </header>
        <form id="change-password-form" method="post" style="width: 100%;">
            @if (!ModelState.IsValid)
            {
<div asp-validation-summary="All" class="text-error"></div>            }
            <div class="form-group">
                <input asp-for="Input.OldPassword" class="text-input" placeholder="Insert old Password" />
                <span asp-validation-for="Input.OldPassword" class="text-error"></span>
            </div>
            <div class="form-group">
                <input asp-for="Input.NewPassword" class="text-input" placeholder="Insert new Password" />
                <span asp-validation-for="Input.NewPassword" class="text-error"></span>
            </div>
            <div class="form-group">
                <input asp-for="Input.ConfirmPassword" class="text-input" placeholder="Confirm Password" />
                <span asp-validation-for="Input.ConfirmPassword" class="text-error"></span>
            </div>
            <button type="submit" style="width: 100%;">Update password</button>
        </form>
        <footer>
            <a asp-page="./Index" class="profile-link">Back to Profile</a>
        </footer>
    </card>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}